# TCP/IP와 웹소켓
9장에서는 좀 더 저수준의 프로토콜인 TCP와 UDP 프로토콜을 살펴보고 net 패키지를 이용해 TCP/IP 서버와 클라이언트를 개발하는 방법을 알아본다. 또한 HTTP에 기반을 둔 웹소켓 프로토콜과 로컬 환경에서만 동작하는 유닉스 도메인 소켓을 이용해 서버와 클라이언트를 개발하는 방법도 알아본다.

## TCP/IP
- TCP/IP란 인터넷을 구성하는 프로토콜 집합을 말한다. 이 이름은 가장 널리 알려진 프로토콜인 TCP와 IP에서 따온 것이다. TCP란 전송 제어 프로토콜(Transmission Control Protocol)의 줄임말이다. TCP 에서는 데이터를 세그먼트란 단위로 전송하고, 이를 TCP 패킷이라고도 부른다. TCP의 큰 장점은 신뢰성을 보장한다는 것이다.
- 두 머신 사이에 TCP 연결이 생성되면 전화를 연결할 때처럼 전이중(full duplex) 방식의 가상 회로가 생성된다. 그런 다음엔 두 머신 사이에 주고받는 데이터가 정확하다는 것이 보장되는 상태에서 지속적으로 통신할 수 있다. TCP 패킷의 헤더에는 출발지 포트와 목적지 포트가 있다. 이 두개의 필드와 출발지 IP주소와 목적지 IP주소를 한데 묶어 하나의 TCP 연결에 대한 고유한 식별자로 사용한다.
- 🙌0-1024번 포트 번호는 루트(root) 사용자만 접근할 수 있다는 것을 참고하자.
- iP는 인터넷 프로토콜의 줄임말이다. IP의 가장 큰 특징은 자체적으로는 신뢰성을 보장하지 않는다는 것이다. 
- UDP는 IP를 기반으로 작동하며 신뢰성을 보장하지 않는다. 
#### nc(1) 커맨드라인 유틸리티
-  nc(1) 유틸리티는 netcat(1)이라고도 부르며 TCP/IP 서버와 클라이언트를 테스트하는 데 굉장히 유용하다. 사실 nc(1)은 TCP 연결 맺기, UDP 메시지 주고받기, TCP 서버 역할 등 TCP, UDP, IPv4, IPv6와 관련된 모든 기능을 수행할 수 있다.
- nc(1)을 TCP 서비스의 클라이언트로도 사용할 수 있다. 예를 들어 TCP 서비스의 IP주소가 10.10.1.123이고 1234번 포트를 갖고 있다면 다음과 같은 커맨드를 실행해 TCP연결을 맺을 수 있다.
```
$ nc 10.10.1.123 1234
```
- -l 옵션을 지정하면 netcat(1)을 서버로 구동할 수 있고 커맨드를 실행하면 netcat(1)에 지정한 포트 번호로 연결 요청이 들어오길 기다리게 된다. 기본적으로 nc(1)는 TCP 프로토콜을 사용한다. 그러나 -u 옵션을 사용하면 UDP 프로토콜을 사용한다. 마지막으로 -v와 -vv 옵션을 지정하면 netcat(1)의 출력을 상세하게 표현한다.

## net 패키지
- Go 표준 라이브러리인 net 패키지는 TCP/IP, UDP, 도메인 이름 확인, 유닉스 도메인 소켓을 다루는 패키지다. net.Dial() 함수는 클라이언트에서 네트워크에 연결할 때 사용하고 net.Listen()함수는 서버 역할을 하는 Go 프로그램에서 네트워크 접속을 받는데 사용한다. net.Dial() 함수와 net.Listen() 함수는 모두 net.Conn 타입의 값을 반환한다. 이 타입은 io.Reader, io.Writer인터페이슬르 구현한 타입이므로 파일 입출력과 관련된 코드를 이용해 net.Conn 연결에서 데이터를 읽거나 쓸 수 있다. 


## TCP 클라이언트
#### net.Dial()을 이용한 TCP 클라이언트 개발[/tcpC]

## TCP 서버

## UDP 클라이언트

## UDP 서버

## 동시성을 지원하는 TCP 서버

## 유닉스 도메인 소켓

## 웹소켓 서버 만들기

## 웹소켓 클라이언트 만들기


